{% capture theprofile %}{{ include.utenza }}{% endcapture %}
{% assign include_file = site.data.schede.[page.object].sidebarboxes %}

{% for box in include_file %}

    {% capture box-content %}{% include schede/{{page.object}}/sidebarbox/{{ box.file }} %}{% endcapture %}

    <!-- differ component based on box type -->
    {% if box.type == 'calltoaction' %}
        {{box-content | markdownify}}
    {% else %}
    <!-- default component is card -->
    <div class="u-nbfc u-borderShadow-xxs u-borderRadius-m u-color-grey-50 u-background-white u-margin-bottom-xl">
      <div class="u-text-r-l u-textCenter u-padding-r-all u-layout-prose">
        <p class="u-text-h6 u-textLeft u-margin-bottom-l">
          <span class="u-color-50" href="">{{ box.title }}</span>
        </p>
        <p class="u-text-p u-textSecondary">
          {{ box-content | markdownify }}
        </p>
      </div>
    </div>
{% endif %}

{% endfor %}
